/* TradeEdge — Components */

/* ─── SPLASH SCREEN ───────────────────────── */
.splash{position:fixed;top:0;right:0;bottom:0;left:0;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;animation:splash-away 0.6s ease 2s forwards}
@keyframes splash-away{to{opacity:0;visibility:hidden;pointer-events:none}}
.splash-logo{width:160px;height:160px;margin-bottom:24px;animation:splash-pulse 2s ease-in-out infinite;filter:invert(1) drop-shadow(0 0 20px rgba(0,240,192,0.3))}
@keyframes splash-pulse{0%,100%{transform:scale(1);opacity:.9}50%{transform:scale(1.04);opacity:1}}
.splash-title{font-family:var(--display);font-size:2.4rem;letter-spacing:2px;color:var(--t1);margin-bottom:4px}
.splash-sub{font-family:var(--mono);font-size:.65rem;letter-spacing:3px;text-transform:uppercase;color:var(--t3);margin-bottom:32px}
.splash-bar{width:200px;height:3px;background:var(--s3);border-radius:2px;overflow:hidden}
.splash-fill{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:2px;transition:width .4s ease}
#splash-bullet{width:340px;height:60px;margin-top:16px;border:1px solid rgba(0,212,255,0.2)}
.splash-bullet-text{font-family:var(--display);font-size:1.1rem;letter-spacing:6px;text-transform:uppercase;color:#00d4ff;margin-top:6px;animation:sb-glow 1.5s ease-in-out infinite}
@keyframes sb-glow{0%,100%{opacity:.5;text-shadow:0 0 8px rgba(0,212,255,0.3)}50%{opacity:1;text-shadow:0 0 16px rgba(0,212,255,0.6),0 0 32px rgba(0,212,255,0.2)}}


/* ─── ACCOUNT BALANCE BAR ────────────────────── */
.balance-bar{background:var(--s1);border:1px solid var(--b1);border-radius:var(--r);padding:14px 20px;margin-bottom:16px;display:flex;align-items:center;justify-content:center;gap:24px;text-align:center}
.bb-item{display:flex;flex-direction:column;align-items:center;gap:2px}
.bb-label{font-family:var(--mono);font-size:.66rem;letter-spacing:1.5px;text-transform:uppercase;color:var(--t3)}
.bb-val{font-family:var(--mono);font-size:1.5rem;font-weight:700;letter-spacing:.5px}
.bb-name{font-family:var(--display);font-size:1rem;letter-spacing:.5px;color:var(--t1)}
.bb-sep{width:1px;height:32px;background:var(--b2)}
/* POKER CHIPS — 3D Trading Desk */
.chip-tray{
  position:relative;
  border-radius:var(--r);
  overflow:hidden;
  margin-bottom:16px;
  border:1px solid var(--b1);
  background:#040e09;
  height:450px;
  cursor:default;
  box-shadow:inset 0 0 40px rgba(0,0,0,.4),0 4px 20px rgba(0,0,0,.3);
}
.chip-tray canvas{display:block;border-radius:var(--r)}
.chip-tray-hud{
  position:absolute;top:10px;left:14px;z-index:2;pointer-events:none;
}
.chip-tray-label{font-family:var(--mono);font-size:.54rem;letter-spacing:3px;text-transform:uppercase;color:rgba(0,212,255,.5)}
.chip-tray-count{font-family:var(--mono);font-size:.6rem;letter-spacing:1.5px;color:rgba(255,255,255,.35);margin-top:2px}
/* Neon border accent */
.chip-tray::before{content:'';position:absolute;top:0;left:20%;right:20%;height:1px;background:linear-gradient(90deg,transparent,rgba(0,212,255,.15),transparent);z-index:2}
.chip-tray::after{content:'';position:absolute;bottom:0;left:30%;right:30%;height:1px;background:linear-gradient(90deg,transparent,rgba(0,212,255,.08),transparent);z-index:2}
/* Scan line over tray */
.chip-tray-scan{position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,212,255,.005) 2px,rgba(0,212,255,.005) 4px);pointer-events:none;z-index:1;border-radius:var(--r)}
/* CSS fallback chip stacks (shown when WebGL/THREE.js unavailable) */
#chip-css-fallback{position:absolute;inset:0;z-index:0;align-items:flex-end;justify-content:center;gap:14px;padding:40px 16px 14px;box-sizing:border-box}
.css-chip-stack{display:flex;flex-direction:column;align-items:center;gap:0;cursor:pointer}
.css-chip-disc{width:54px;height:14px;border-radius:50%;margin-top:-6px;transition:transform .15s ease}
.css-chip-disc:first-child{margin-top:0}
.css-chip-stack:hover .css-chip-disc{transform:scaleX(1.06)}
.css-chip-count{font-size:.44rem;font-family:var(--mono);letter-spacing:1px;color:rgba(255,255,255,.4);margin-top:6px;text-align:center}
/* Change 19: News alert HUD */
.news-alert-hud{position:absolute;bottom:8px;right:8px;z-index:3;display:flex;align-items:center;gap:6px;background:rgba(10,5,2,.85);border:1px solid rgba(255,61,90,.4);border-radius:6px;padding:5px 10px;font-family:var(--mono);font-size:.65rem;color:#ff3d5a;backdrop-filter:blur(4px)}
.news-alert-icon{font-size:.9rem}
.news-alert-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px}
.news-pulse{animation:newsPulse 2s ease-in-out infinite}
.news-pulse-intense{animation:newsPulse 0.8s ease-in-out infinite}
@keyframes newsPulse{0%,100%{border-color:rgba(255,61,90,.4);box-shadow:none}50%{border-color:rgba(255,61,90,.8);box-shadow:0 0 12px rgba(255,61,90,.3)}}
@keyframes nuclearPulse{0%,100%{border-color:rgba(255,61,90,.5);background:rgba(40,0,0,.9)}50%{border-color:#ff3d5a;background:rgba(60,0,0,.95)}}
/* Change 42: Killzone timer HUD */
.kz-timer-hud{position:absolute;top:8px;right:8px;z-index:3;background:rgba(10,5,2,.85);border:1px solid var(--b1);border-radius:6px;padding:5px 10px;font-family:var(--mono);min-width:180px;backdrop-filter:blur(4px)}
@media(max-width:768px){.kz-timer-hud{top:4px;right:4px;min-width:140px;padding:4px 8px}}
@media(max-width:768px){
  .news-alert-hud{bottom:4px;left:4px;right:auto;font-size:.58rem;padding:4px 8px}
  .news-alert-text{max-width:160px}
}
/* SELF-DESTRUCT OVERLAY */
.nuke-overlay{position:fixed;inset:0;z-index:9999;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.9);backdrop-filter:blur(8px)}
.nuke-overlay.active{display:flex}
.nuke-countdown{font-family:var(--mono);font-size:8rem;font-weight:900;color:var(--red);text-shadow:0 0 60px rgba(255,0,0,.6);animation:nukePulse .5s infinite alternate}
@keyframes nukePulse{from{transform:scale(1);opacity:.8}to{transform:scale(1.15);opacity:1}}
.nuke-label{font-family:var(--mono);font-size:.9rem;letter-spacing:6px;text-transform:uppercase;color:var(--red);margin-bottom:20px;text-align:center}
.nuke-emoji{font-size:6rem;position:fixed;left:50%;transform:translateX(-50%);z-index:10001;transition:none}
@keyframes nukeDrop{0%{top:-100px;transform:translateX(-50%) rotate(0deg)}80%{top:40vh;transform:translateX(-50%) rotate(20deg)}100%{top:45vh;transform:translateX(-50%) rotate(0deg)}}
@keyframes nukeFlash{0%{background:rgba(255,200,0,.9)}50%{background:rgba(255,50,0,.7)}100%{background:transparent}}
.nuke-flash{position:fixed;inset:0;z-index:10002;pointer-events:none}
@keyframes screenShake{0%,100%{transform:translate(0)}10%{transform:translate(-8px,6px)}20%{transform:translate(8px,-4px)}30%{transform:translate(-6px,-8px)}40%{transform:translate(4px,8px)}50%{transform:translate(-4px,-4px)}60%{transform:translate(8px,2px)}70%{transform:translate(-2px,6px)}80%{transform:translate(6px,-6px)}90%{transform:translate(-4px,4px)}}
@keyframes fallApart{0%{transform:translateY(0) rotate(0);opacity:1}100%{transform:translateY(120vh) rotate(25deg);opacity:0}}
.falling>.cc,.falling>.balance-bar,.falling>.mgrid,.falling>.alert-box{animation:fallApart 1.5s cubic-bezier(.55,.06,.68,.19) forwards}
.falling>.cc:nth-child(2){animation-delay:.1s}
.falling>.cc:nth-child(3){animation-delay:.2s}
.falling>.cc:nth-child(4){animation-delay:.3s}
.falling>.mgrid{animation-delay:.05s}
.falling>.balance-bar{animation-delay:0s}
.nuke-blackout{position:fixed;inset:0;z-index:10003;background:#000;display:none;align-items:center;justify-content:center;flex-direction:column}
.nuke-blackout.active{display:flex}
.nuke-rip{font-family:var(--display);font-size:2rem;color:var(--red);letter-spacing:3px;opacity:0;animation:fadeRip 1s ease forwards;animation-delay:.5s}
@keyframes fadeRip{to{opacity:1}}
/* ─── V2.3: CSS CUSTOM PROPERTY FOR GRADIENT ROTATION ─── */
@property --grad-angle { syntax: '<angle>'; initial-value: 0deg; inherits: false; }
@keyframes gradRotate { to { --grad-angle: 360deg; } }
@keyframes fadeUp { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
@keyframes counterPulse { 0%,100%{opacity:1} 50%{opacity:.7} }
@keyframes glowPulse { 0%,100%{box-shadow:0 0 8px var(--mc-glow,rgba(0,240,192,.08))} 50%{box-shadow:0 0 16px var(--mc-glow,rgba(0,240,192,.15))} }
/* ─── METRIC CARDS ───────────────────────────── */
.mgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(155px,1fr));gap:10px;margin-bottom:16px}
.mc{background:rgba(8,12,20,.8);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid transparent;border-radius:var(--r);padding:14px 16px;position:relative;overflow:hidden;transition:transform .2s,box-shadow .2s,border-color .2s;cursor:default;animation:fadeUp .4s ease both,gradRotate 4s linear infinite;border-image:linear-gradient(var(--grad-angle),#00d4ff,#0088cc,#004488) 1}
.mc:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 0 20px rgba(0,212,255,0.15),0 6px 24px rgba(0,0,0,.3);border-image:linear-gradient(var(--grad-angle),#00d4ff,#0088cc,#004488) 1}
.mc::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,#00d4ff,transparent);opacity:.6}
.mc::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(0deg,transparent 0px,transparent 3px,rgba(0,212,255,0.03) 3px,rgba(0,212,255,0.03) 4px);pointer-events:none}
.mc-label{font-family:var(--mono);font-size:.66rem;font-weight:500;letter-spacing:1.2px;text-transform:uppercase;color:var(--t3);margin-bottom:6px}
.mc-val{font-family:var(--mono);font-size:1.25rem;font-weight:600;line-height:1;letter-spacing:-0.5px}
.mc-sub{font-size:.72rem;color:var(--t3);margin-top:3px;font-family:var(--mono)}
/* V2.3: Glow effects on key metrics */
.mc-val.up{text-shadow:0 0 8px rgba(0,229,160,.3)}
.mc-val.dn{text-shadow:0 0 8px rgba(255,61,90,.3)}
/* V2.3: Share button on cards */
.share-btn{position:absolute;top:6px;right:6px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:6px;color:var(--t3);font-size:.7rem;padding:3px 7px;cursor:pointer;opacity:0;transition:opacity .2s,background .15s;z-index:2;line-height:1}
.mc:hover .share-btn,.cc:hover .share-btn,.jcard:hover .share-btn{opacity:.7}
.share-btn:hover{opacity:1!important;background:rgba(0,240,192,.15);color:var(--accent)}
/* V2.3: Share modal */
.share-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);backdrop-filter:blur(8px);z-index:9999;display:none;align-items:center;justify-content:center}
.share-modal-overlay.active{display:flex}
.share-modal{background:var(--s1);border:1px solid var(--b2);border-radius:12px;padding:20px;max-width:440px;width:90%;text-align:center}
.share-modal img{max-width:100%;border-radius:8px;margin-bottom:16px;border:1px solid var(--b1)}
.share-modal-actions{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
.up{color:var(--green)} .dn{color:var(--red)} .nu{color:var(--t1)} .go{color:var(--gold)}

/* ─── CHART CARDS ────────────────────────────── */
.crow{display:grid;gap:12px;margin-bottom:12px}
.cr2{grid-template-columns:2fr 1fr}
.cr3{grid-template-columns:1fr 1fr 1fr}
.cr2e{grid-template-columns:1fr 1fr}
.cc{background:rgba(12,15,23,.75);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid var(--b1);border-radius:var(--r);padding:16px;transition:transform .2s,border-color .2s,box-shadow .2s}
.cc:hover{border-color:var(--b2);transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.2)}
.cc-title{font-family:var(--mono);font-size:.68rem;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--t3);margin-bottom:12px;display:flex;align-items:center;justify-content:space-between}
.cc-title span{color:var(--t1);font-size:.78rem;text-transform:none;letter-spacing:0}

/* ─── TABLE ──────────────────────────────────── */
.tcard{background:var(--s1);border:1px solid var(--b1);border-radius:var(--r);overflow:hidden}
.tcard-hdr{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--b1);gap:10px;flex-wrap:wrap}
.tcard-title{font-family:var(--display);font-size:1.1rem;letter-spacing:.5px}
table{width:100%;border-collapse:collapse}
th{font-family:var(--mono);font-size:.64rem;font-weight:600;letter-spacing:1.2px;text-transform:uppercase;color:var(--t3);padding:8px 12px;text-align:left;background:var(--s1);border-bottom:1px solid var(--b1);white-space:nowrap}
td{padding:9px 12px;font-size:.78rem;border-bottom:1px solid var(--b1);white-space:nowrap;vertical-align:middle}
tr:last-child td{border-bottom:none}
tbody tr{cursor:pointer;transition:background .15s,transform .15s;animation:fadeUp .3s ease both}
tbody tr:hover{transform:translateX(2px)}
tbody tr:nth-child(even){background:rgba(255,255,255,.015)}
tbody tr:hover{background:rgba(0,212,255,.04);border-left:2px solid var(--accent)}
.mono{font-family:var(--mono)}
.sym{font-family:var(--display);font-size:.95rem;letter-spacing:.5px}
.bdg{display:inline-flex;align-items:center;padding:2px 7px;border-radius:4px;font-size:.62rem;font-weight:700;letter-spacing:.3px;font-family:var(--mono);transition:filter .15s}
.bdg:hover{filter:brightness(1.3)}
.bdg-long{background:rgba(0,229,160,.1);color:var(--green);border:1px solid rgba(0,229,160,.2)}
.bdg-short{background:rgba(255,61,90,.1);color:var(--red);border:1px solid rgba(255,61,90,.2)}
.bdg-win{background:rgba(0,229,160,.08);color:var(--green);border:1px solid rgba(0,229,160,.15)}
.bdg-loss{background:rgba(255,61,90,.08);color:var(--red);border:1px solid rgba(255,61,90,.15)}
.bdg-neutral{background:var(--s2);color:var(--t2);border:1px solid var(--b2)}
.tag{display:inline-flex;padding:2px 7px;border-radius:4px;font-size:.6rem;font-weight:600;font-family:var(--mono);letter-spacing:.3px;background:rgba(168,85,247,.1);color:#c084fc;border:1px solid rgba(168,85,247,.2);margin-right:3px}
.ict-tag{background:rgba(245,183,49,.08);color:var(--gold);border:1px solid rgba(245,183,49,.2)}
.kz-tag{background:rgba(14,165,233,.08);color:var(--accent2);border:1px solid rgba(14,165,233,.2)}

/* ─── MODAL ──────────────────────────────────── */
.overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.8);z-index:300;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(8px);opacity:0;pointer-events:none;transition:opacity .2s}
.overlay.open{opacity:1;pointer-events:all}
.modal{background:var(--s1);border:1px solid var(--b3);border-radius:14px;width:min(700px,95vw);max-height:92vh;overflow-y:auto;padding:24px;transform:translateY(12px) scale(.98);transition:transform .25s cubic-bezier(.22,1,.36,1);position:relative}
.modal::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:14px 14px 0 0}
.overlay.open .modal{transform:translateY(0) scale(1)}
.modal::-webkit-scrollbar{width:4px}
.modal::-webkit-scrollbar-thumb{background:var(--b2);border-radius:2px}
.modal-title{font-family:var(--display);font-size:1.4rem;letter-spacing:.5px;margin-bottom:18px;display:flex;align-items:center;gap:10px}
.modal-title .sub{font-family:var(--mono);font-size:.7rem;color:var(--t3);font-weight:400;letter-spacing:1px;text-transform:uppercase;margin-top:3px}
.fg{display:flex;flex-direction:column;gap:5px}
.fgrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.full{grid-column:1/-1}
.fg3{grid-template-columns:1fr 1fr 1fr}
label{font-family:var(--mono);font-size:.6rem;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--t3)}
input,select,textarea{background:var(--s2);border:1px solid var(--b2);border-radius:7px;padding:8px 11px;color:var(--t1);font-family:var(--body);font-size:.82rem;outline:none;transition:.12s;width:100%}
input:focus,select:focus,textarea:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,240,192,.08)}
select option{background:var(--s2)}
textarea{resize:vertical;min-height:60px;line-height:1.5}
.mfooter{display:flex;gap:8px;justify-content:flex-end;margin-top:16px;padding-top:14px;border-top:1px solid var(--b1)}
.msection{margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid var(--b1)}
.msection:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}
.msection-title{font-family:var(--mono);font-size:.62rem;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--accent);margin-bottom:10px;display:flex;align-items:center;gap:6px}
.msection-title::after{content:'';flex:1;height:1px;background:linear-gradient(to right,rgba(0,240,192,.2),transparent)}

/* ─── CHECKLIST ──────────────────────────────── */
.ckl{display:flex;flex-direction:column;gap:5px}
.ck-item{display:flex;align-items:center;gap:8px;padding:7px 10px;border-radius:7px;border:1px solid var(--b1);cursor:pointer;transition:.12s;background:var(--s2)}
.ck-item:hover{border-color:var(--b3)}
.ck-item.checked{background:rgba(0,240,192,.06);border-color:rgba(0,240,192,.2)}
.ck-box{width:16px;height:16px;border-radius:4px;border:1.5px solid var(--b3);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:.12s}
.ck-item.checked .ck-box{background:var(--accent);border-color:var(--accent)}
.ck-box svg{width:10px;height:10px;stroke:#000;stroke-width:2.5;display:none}
.ck-item.checked .ck-box svg{display:block}
.ck-label{font-size:.78rem;font-weight:500;color:var(--t2)}
.ck-item.checked .ck-label{color:var(--t1)}

/* ─── EMOTIONS ───────────────────────────────── */
.emo-grid{display:flex;flex-wrap:wrap;gap:6px}
.emo{padding:5px 11px;border-radius:20px;border:1px solid var(--b2);cursor:pointer;font-size:.72rem;font-weight:600;color:var(--t2);transition:.12s;background:var(--s2)}
.emo:hover{border-color:var(--b3);color:var(--t1)}
.emo.sel{background:rgba(0,240,192,.08);color:var(--accent);border-color:rgba(0,240,192,.3)}

/* ─── STARS ──────────────────────────────────── */
.stars{display:flex;gap:4px}
.star{font-size:1.3rem;cursor:pointer;color:var(--t3);transition:.1s;user-select:none;line-height:1}
.star.on{color:var(--gold);text-shadow:0 0 8px rgba(245,183,49,.4)}

/* ─── TAGS INPUT ─────────────────────────────── */
.tinput{display:flex;flex-wrap:wrap;gap:4px;align-items:center;background:var(--s2);border:1px solid var(--b2);border-radius:7px;padding:6px 9px;cursor:text;min-height:38px;transition:.12s}
.tinput:focus-within{border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,240,192,.08)}
.tpill{display:inline-flex;align-items:center;gap:4px;border-radius:4px;padding:2px 8px;font-size:.65rem;font-weight:700;font-family:var(--mono)}
.tpill-ict{background:rgba(245,183,49,.1);color:var(--gold);border:1px solid rgba(245,183,49,.25)}
.tpill-kz{background:rgba(14,165,233,.1);color:var(--accent2);border:1px solid rgba(14,165,233,.25)}
.tpill-custom{background:rgba(168,85,247,.1);color:#c084fc;border:1px solid rgba(168,85,247,.25)}
.tpill .x{cursor:pointer;opacity:.5;font-size:.8rem}
.tpill .x:hover{opacity:1}
.tinput input{border:none;outline:none;background:transparent;color:var(--t1);font-size:.78rem;flex:1;min-width:80px;padding:0;font-family:var(--body)}
.tag-suggestions{background:var(--s2);border:1px solid var(--b3);border-radius:7px;padding:6px;margin-top:4px;display:none;flex-wrap:wrap;gap:4px;max-height:100px;overflow-y:auto}
.tag-suggestions.show{display:flex}
.sug{padding:3px 9px;border-radius:4px;font-size:.65rem;font-weight:700;font-family:var(--mono);cursor:pointer;transition:.1s}
.sug:hover{filter:brightness(1.2)}

/* ─── MISTAKES ───────────────────────────────── */
.mistake-grid{display:flex;flex-wrap:wrap;gap:6px}
.mk{padding:5px 11px;border-radius:6px;border:1px solid var(--b2);cursor:pointer;font-size:.7rem;font-weight:600;font-family:var(--mono);color:var(--t2);transition:.12s;background:var(--s2)}
.mk:hover{border-color:var(--red);color:var(--red)}
.mk.sel{background:rgba(255,61,90,.08);color:var(--red);border-color:rgba(255,61,90,.3)}

/* ─── JOURNAL ─────────────────────────────────── */
.jcard{background:rgba(12,15,23,.75);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid var(--b1);border-radius:var(--r);padding:16px;margin-bottom:10px;position:relative;overflow:hidden;transition:transform .2s,box-shadow .2s}
.jcard:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.25),0 0 12px rgba(0,212,255,0.08)}
.jcard::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:linear-gradient(to bottom,var(--accent),var(--accent2))}
.jcard-hdr{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:10px;padding-left:8px}
.jcard-date{font-family:var(--display);font-size:1rem;letter-spacing:.3px}
.jcard-meta{font-family:var(--mono);font-size:.6rem;color:var(--t3);margin-top:2px}
.jcard-pnl{font-family:var(--mono);font-size:.9rem;font-weight:600}
.jcard-body{padding-left:8px}
.jsec{margin-bottom:8px}
.jsec-label{font-family:var(--mono);font-size:.64rem;font-weight:600;letter-spacing:1.2px;text-transform:uppercase;color:var(--t3);margin-bottom:3px}
.jsec-text{font-size:.78rem;color:var(--t2);line-height:1.6}
.score-pill{display:inline-flex;align-items:center;gap:4px;background:var(--s2);border:1px solid var(--b2);border-radius:20px;padding:2px 10px;font-family:var(--mono);font-size:.65rem;color:var(--t2)}
.score-pill .val{color:var(--gold);font-weight:600}

/* ─── ANALYTICS ──────────────────────────────── */
.stat-row{display:flex;justify-content:space-between;align-items:center;padding:7px 0;border-bottom:1px solid var(--b1)}
.stat-row:last-child{border-bottom:none}
.stat-k{font-size:.75rem;color:var(--t2)}
.stat-v{font-family:var(--mono);font-size:.75rem}
.prog{height:3px;background:var(--b1);border-radius:2px;overflow:hidden;margin-top:3px}
.prog-fill{height:100%;border-radius:2px;transition:width .5s}

/* ─── HEATMAP ─────────────────────────────────── */
.heatmap-wrap{overflow-x:auto;padding-bottom:4px}
.heatmap{display:grid;grid-template-rows:repeat(7,1fr);grid-auto-flow:column;gap:3px;width:max-content}
.hcell{width:14px;height:14px;border-radius:2px;cursor:default;transition:.1s}
.hcell:hover{transform:scale(1.3)}

/* ─── IMPORT ──────────────────────────────────── */
.drop-zone{border:2px dashed var(--b2);border-radius:var(--r);padding:40px;text-align:center;cursor:pointer;transition:.2s;position:relative;overflow:hidden}
.drop-zone::before{content:'';position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(ellipse at center,rgba(0,240,192,.03) 0%,transparent 70%);pointer-events:none}
.drop-zone:hover,.drop-zone.drag{border-color:var(--accent);background:rgba(0,240,192,.03);box-shadow:0 0 30px rgba(0,240,192,.08);animation:dropPulse 1.5s ease infinite}
@keyframes dropPulse{0%,100%{box-shadow:0 0 30px rgba(0,240,192,.08)}50%{box-shadow:0 0 40px rgba(0,240,192,.14)}}
.drop-icon{font-size:2rem;margin-bottom:8px}
.drop-zone h3{font-family:var(--display);font-size:1.1rem;letter-spacing:.5px;margin-bottom:4px}
.drop-zone p{font-size:.75rem;color:var(--t3)}
.alert-box{background:rgba(0,240,192,.04);border:1px solid rgba(0,240,192,.12);border-radius:8px;padding:12px 14px;font-size:.76rem;color:var(--t2);line-height:1.6;margin-bottom:12px}
.alert-box strong{color:var(--accent)}
.step{display:flex;gap:10px;margin-bottom:8px;align-items:flex-start}
.step-n{width:20px;height:20px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#000;font-size:.62rem;font-weight:800;display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:1px}
.step-t{font-size:.76rem;color:var(--t2);line-height:1.5}
.step-t strong{color:var(--t1)}
.import-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;margin-bottom:16px}
.import-card{background:var(--s2);border:1px solid var(--b1);border-radius:var(--r);padding:16px;text-align:center;cursor:pointer;transition:.15s}
.import-card:hover{border-color:var(--accent);background:rgba(0,240,192,.04);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}
.import-card.has-data{border-color:var(--green)}
.import-card-icon{font-size:1.6rem;margin-bottom:6px}
.import-card-name{font-family:var(--display);font-size:.9rem;letter-spacing:.3px;margin-bottom:3px}
.import-card-desc{font-size:.68rem;color:var(--t3)}
.import-card-status{margin-top:6px;font-family:var(--mono);font-size:.62rem}

/* ─── SESSION POPUP ───────────────────────────── */
.session-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.85);z-index:500;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(10px);opacity:0;pointer-events:none;transition:opacity .25s}
.session-overlay.open{opacity:1;pointer-events:all}
.session-modal{background:var(--s1);border:1px solid var(--b3);border-radius:16px;width:min(520px,92vw);max-height:88vh;overflow-y:auto;padding:24px;transform:scale(.95);transition:transform .25s;position:relative}
.session-overlay.open .session-modal{transform:scale(1)}
.session-modal::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent2),var(--purple));border-radius:16px 16px 0 0}
.session-modal::-webkit-scrollbar{width:4px}
.session-modal::-webkit-scrollbar-thumb{background:var(--b2);border-radius:2px}
.sesh-title{font-family:var(--display);font-size:1.5rem;letter-spacing:.5px;margin-bottom:4px}
.sesh-sub{font-family:var(--mono);font-size:.62rem;color:var(--t3);letter-spacing:1px;text-transform:uppercase;margin-bottom:18px}
.slider-wrap{display:flex;flex-direction:column;gap:4px;margin-bottom:4px}
.slider-row{display:flex;align-items:center;gap:10px}
input[type=range]{-webkit-appearance:none;appearance:none;flex:1;height:4px;border-radius:2px;background:var(--b2);outline:none;border:none;padding:0}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:var(--accent);cursor:pointer;box-shadow:0 0 8px rgba(0,240,192,.4)}
.slider-val{font-family:var(--mono);font-size:.75rem;color:var(--accent);min-width:18px;text-align:right}
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--b1)}
.toggle-row:last-child{border-bottom:none}
.toggle-label{font-size:.8rem;font-weight:500}
.toggle{width:36px;height:20px;background:var(--b2);border-radius:10px;cursor:pointer;position:relative;transition:.2s;border:none;flex-shrink:0}
.toggle.on{background:var(--accent)}
.toggle::after{content:'';position:absolute;width:14px;height:14px;background:#fff;border-radius:50%;top:3px;left:3px;transition:.2s}
.toggle.on::after{left:19px}
.sesh-fgrid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px}

/* ─── EMPTY ───────────────────────────────────── */
.empty{text-align:center;padding:60px 20px}
.empty-icon{font-size:2.5rem;margin-bottom:12px;opacity:.25;filter:grayscale(.5)}
.empty h3{font-family:var(--display);font-size:1.1rem;letter-spacing:.3px;color:var(--t2);margin-bottom:5px}
.empty p{font-size:.75rem;color:var(--t3);line-height:1.6;max-width:260px;margin:0 auto}

/* ─── FILTER ROW ──────────────────────────────── */
.frow{display:flex;gap:7px;margin-bottom:14px;flex-wrap:wrap;align-items:center}
.fchip{padding:5px 12px;border-radius:20px;border:1px solid var(--b2);background:var(--s2);font-size:.7rem;font-weight:600;cursor:pointer;color:var(--t2);transition:.18s ease;font-family:var(--mono)}
.fchip:hover:not(.on){background:var(--s3);color:var(--t1)}
.fchip.on{background:rgba(0,240,192,.08);color:var(--accent);border-color:rgba(0,240,192,.25)}
input.search{background:var(--s2);border:1px solid var(--b2);border-radius:20px;padding:5px 14px;color:var(--t1);font-family:var(--body);font-size:.75rem;outline:none;transition:.12s;width:200px}
input.search:focus{border-color:var(--accent);width:240px}

/* ─── TOAST ───────────────────────────────────── */
.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%) translateY(60px);background:var(--s2);border:1px solid var(--b3);border-radius:10px;padding:10px 22px;font-size:.78rem;color:var(--t1);z-index:999;transition:.3s cubic-bezier(.22,1,.36,1);box-shadow:0 8px 32px rgba(0,0,0,.5);font-family:var(--mono);backdrop-filter:blur(12px)}
.toast.show{transform:translateX(-50%) translateY(0)}
.toast.ok{border-color:rgba(0,229,160,.3);color:var(--green)}
.toast.err{border-color:rgba(255,61,90,.3);color:var(--red)}

/* ─── WEEKLY REPORT ───────────────────────────── */
.week-card{background:var(--s1);border:1px solid var(--b1);border-radius:var(--r);padding:16px;margin-bottom:10px}
.week-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.week-title{font-family:var(--display);font-size:1rem;letter-spacing:.3px}
.week-pnl{font-family:var(--mono);font-size:1rem;font-weight:600}
.week-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:10px}
.ws{background:var(--s2);border-radius:7px;padding:8px;text-align:center}
.ws-label{font-family:var(--mono);font-size:.58rem;letter-spacing:1px;text-transform:uppercase;color:var(--t3);margin-bottom:3px}
.ws-val{font-family:var(--mono);font-size:.85rem;font-weight:600}

/* ─── PROGRESS RING ───────────────────────────── */
.ring-wrap{position:relative;display:inline-flex;align-items:center;justify-content:center}
.ring-wrap svg{transform:rotate(-90deg)}
.ring-label{position:absolute;text-align:center}
.ring-num{font-family:var(--mono);font-size:1.1rem;font-weight:600;color:var(--t1);line-height:1}
.ring-sub{font-size:.6rem;color:var(--t3)}

/* ─── KILLZONE TABLE ──────────────────────────── */
.kz-row{display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--b1)}
.kz-row:last-child{border-bottom:none}
.kz-name{font-family:var(--mono);font-size:.72rem;color:var(--accent2)}
.kz-bar{flex:1;margin:0 12px;height:4px;background:var(--b1);border-radius:2px;overflow:hidden}
.kz-fill{height:100%;border-radius:2px;background:linear-gradient(90deg,var(--accent),var(--accent2))}
.kz-val{font-family:var(--mono);font-size:.72rem;min-width:60px;text-align:right}
